@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  margin: 0;
  padding: 0;
  /* è¨­ç‚ºç´”é»‘ï¼Œå› ç‚º ScreenEffects æœƒè¦†è“‹åœ¨ä¸Šé¢ */
  background-color: #000;
  min-height: 100vh;
  overflow-x: hidden;
  color: #f1f5f9;
  scroll-behavior: smooth;
  /* ğŸŒˆ æ¨¡å¼åˆ‡æ›æ¼¸è®Šéæ¸¡ */
  transition: background-color 0.5s ease, background 0.5s ease, color 0.3s ease;
}

/* â™¿ ç„¡éšœç¤™ï¼šå°Šé‡ç”¨æˆ¶çš„æ¸›å°‘å‹•ç•«åå¥½ */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

#root {
  min-height: 100vh;
  background-color: transparent;
}

/* éª¨æ¶å± Shimmer å‹•ç•« */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

.animate-shimmer {
  animation: shimmer 1.5s infinite;
}

/* ========================================
   âœ¨ å…¨åŸŸ UI/UX å¢å¼·æ¨£å¼
   ======================================== */

@keyframes shake {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-4px);
  }

  75% {
    transform: translateX(4px);
  }
}

.animate-shake {
  animation: shake 0.2s ease-in-out infinite;
  animation-iteration-count: 2;
}

/* ğŸ¬ é é¢å…¥å ´å‹•ç•« */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(16px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.5s ease-out forwards;
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out forwards;
}

.animate-scale-in {
  animation: scale-in 0.3s ease-out forwards;
}

/* ğŸ¯ å»¶é²å‹•ç•«é¡åˆ¥ */
.delay-100 {
  animation-delay: 100ms;
}

.delay-200 {
  animation-delay: 200ms;
}

.delay-300 {
  animation-delay: 300ms;
}

.delay-400 {
  animation-delay: 400ms;
}

.delay-500 {
  animation-delay: 500ms;
}

/* ğŸƒ å¡ç‰‡é™°å½±æ¨™æº–åŒ– */
.card-shadow-sm {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.card-shadow-md {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

.card-shadow-lg {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}

/* ğŸ–±ï¸ Hover ç‹€æ…‹æ¨™æº–åŒ– */
.hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.hover-lift:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
}

.hover-scale {
  transition: transform 0.2s ease;
}

.hover-scale:hover {
  transform: scale(1.02);
}

/* ========================================
   ğŸ“± æ‰‹æ©Ÿç‰ˆè§¸æ§å„ªåŒ–
   ======================================== */

/* æœ€å°é»æ“Šå€åŸŸ 44x44px (Apple HIG å»ºè­°) */
.touch-target {
  min-width: 44px;
  min-height: 44px;
}

/* è§¸æ§æŒ‰ä¸‹å›é¥‹ */
@media (hover: none) {

  button:active,
  a:active,
  [role="button"]:active {
    transform: scale(0.96);
    opacity: 0.8;
  }

  /* æ‰‹æ©Ÿç«¯ç¦ç”¨ 3D å¡ç‰‡æ•ˆæœ (æ•ˆèƒ½è€ƒé‡) */
  .card-3d-disabled {
    transform: none !important;
  }
}

/* ç¦ç”¨é•·æŒ‰é¸å– (é¿å…èª¤è§¸) */
.no-select {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

/* å®‰å…¨å€åŸŸ padding (iPhone ç€æµ·å±/åº•éƒ¨) */
.safe-area-top {
  padding-top: env(safe-area-inset-top, 0);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* ğŸ¯ Focus Ring ç„¡éšœç¤™è¨­è¨ˆ */
.focus-ring {
  outline: none;
}

.focus-ring:focus-visible {
  outline: 2px solid #6366f1;
  outline-offset: 2px;
  border-radius: 8px;
}

/* ğŸ–±ï¸ æ‰€æœ‰å¯äº’å‹•å…ƒç´  cursor */
button,
a,
[role="button"],
[tabindex]:not([tabindex="-1"]),
input[type="submit"],
input[type="button"],
.clickable {
  cursor: pointer;
}

/* ç¦ç”¨ç‹€æ…‹ */
button:disabled,
.disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

/* ğŸ“± æ»¾å‹•æ¢ç¾åŒ– */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(99, 102, 241, 0.3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(99, 102, 241, 0.5);
}

/* ========================================
   ğŸŒ“ ä¸»é¡Œåˆ‡æ› - æ·ºè‰²æ¨¡å¼æ¨£å¼è¦†è“‹
   ======================================== */

/* æ·ºè‰²æ¨¡å¼ä¸‹çš„æ ¹å…ƒç´  */
[data-theme='light'] body {
  background-color: #f8fafc;
  color: #1e293b;
}

/* æ·ºè‰²æ¨¡å¼ï¼šæ–‡å­—é¡è‰²è¦†è“‹ */
[data-theme='light'] .text-white,
[data-theme='light'] .text-slate-200,
[data-theme='light'] .text-slate-100,
[data-theme='light'] .text-slate-50 {
  color: #1e293b !important;
}

[data-theme='light'] .text-slate-300,
[data-theme='light'] .text-slate-400 {
  color: #475569 !important;
}

[data-theme='light'] .text-indigo-200,
[data-theme='light'] .text-indigo-100,
[data-theme='light'] .text-indigo-50 {
  color: #4f46e5 !important;
}

[data-theme='light'] .text-indigo-300,
[data-theme='light'] .text-indigo-400 {
  color: #6366f1 !important;
}

[data-theme='light'] .text-amber-200,
[data-theme='light'] .text-amber-300 {
  color: #b45309 !important;
}

/* æ·ºè‰²æ¨¡å¼ï¼šèƒŒæ™¯è¦†è“‹ */
[data-theme='light'] .bg-white\/5,
[data-theme='light'] .bg-white\/10 {
  background-color: rgba(0, 0, 0, 0.05) !important;
}

[data-theme='light'] .bg-\[\#0f1016\],
[data-theme='light'] .bg-\[\#1a1b26\] {
  background-color: #ffffff !important;
}

/* æ·ºè‰²æ¨¡å¼ï¼šé‚Šæ¡†è¦†è“‹ */
[data-theme='light'] .border-white\/10,
[data-theme='light'] .border-white\/20,
[data-theme='light'] .border-white\/5 {
  border-color: rgba(0, 0, 0, 0.1) !important;
}

/* æ·ºè‰²æ¨¡å¼ï¼šplaceholder æ–‡å­— */
[data-theme='light'] .placeholder\:text-indigo-200\/50::placeholder,
[data-theme='light'] .placeholder\:text-slate-600::placeholder {
  color: #94a3b8 !important;
}

/* æ·ºè‰²æ¨¡å¼ï¼šä¸‹æ‹‰é™°å½±åŠ å¼·å°æ¯” */
[data-theme='light'] .shadow-xl,
[data-theme='light'] .shadow-2xl {
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15) !important;
}

/* æ·ºè‰²æ¨¡å¼ï¼šå¡ç‰‡èƒŒæ™¯ */
[data-theme='light'] .bg-gradient-to-br.from-white\/5.to-white\/10 {
  background: linear-gradient(to bottom right, rgba(0, 0, 0, 0.02), rgba(0, 0, 0, 0.05)) !important;
}

/* æ·ºè‰²æ¨¡å¼ï¼šhover ç‹€æ…‹ */
[data-theme='light'] .hover\:bg-white\/10:hover {
  background-color: rgba(0, 0, 0, 0.08) !important;
}

[data-theme='light'] .hover\:bg-white\/20:hover {
  background-color: rgba(0, 0, 0, 0.12) !important;
}

/* æ·ºè‰²æ¨¡å¼ï¼šæ»‘é¼ æ‡¸åœæ™‚æ–‡å­—é¡è‰² */
[data-theme='light'] .hover\:text-white:hover {
  color: #1e293b !important;
}

/* ========================================
   ğŸŒŒ ä¸‰å¤§æ¨¡å¼è¦–è¦ºç³»çµ±
   ======================================== */

/* ğŸŒŒ å®‡å®™æ¨¡å¼ (Universe) - é è¨­ */
[data-mode='universe'] {
  --mode-bg: #0f1016;
  --mode-bg-gradient: linear-gradient(135deg, #0f1016 0%, #1a1b26 100%);
  --mode-accent: #6366f1;
  --mode-accent-hover: #818cf8;
  --mode-secondary: #8b5cf6;
  --mode-text: #e2e8f0;
  --mode-text-muted: #94a3b8;
  --mode-card-bg: rgba(255, 255, 255, 0.05);
  --mode-border: rgba(255, 255, 255, 0.1);
  --mode-radius: 1rem;
  --mode-glow: 0 0 30px rgba(99, 102, 241, 0.3);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ¨ å…’ç«¥æ¨¡å¼ (Kids) - ç¹ªæœ¬é¢¨æ ¼è¨­è¨ˆ
   è¨­è¨ˆåŸå‰‡ï¼šé«˜æ˜åº¦ã€ä½é£½å’Œåº¦çš„ Pastel Colors + æŸ”è»Ÿé‚Šç•Œ
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* ğŸ“š è‰²å½©è¨ˆç•« (Pastel Color Palette) */
[data-mode='kids'] {
  /* ä¸»è‰²èª¿ï¼šç±³é»ƒè‰²/å¥¶æ²¹ç™½ï¼Œæ¨¡æ“¬ç´™å¼µçš„æº«æ½¤æ„Ÿ */
  --mode-bg: #FEF9E7;
  --mode-bg-gradient: linear-gradient(180deg, #E0F7FA 0%, #FEF9E7 50%, #FFF8E7 100%);

  /* é¦¬å¡é¾è‰²ç³» */
  --mode-accent: #FFB7B2;
  /* èœœæ¡ƒç²‰ - ä¸»æŒ‰éˆ• */
  --mode-accent-hover: #FFC8C5;
  --mode-secondary: #B5EAD7;
  /* è–„è·ç¶  - æ¬¡è¦æŒ‰éˆ• */
  --mode-tertiary: #C7CEEA;
  /* è–°è¡£è‰ */
  --mode-highlight: #FFDAC1;
  /* ææ¡ƒè‰² */

  /* æ–‡å­—ï¼šæ·±å·§å…‹åŠ›è‰²ï¼Œä¸åˆºçœ¼ */
  --mode-text: #4A403A;
  --mode-text-muted: #6B5F58;

  /* å¡ç‰‡èˆ‡é‚Šæ¡† */
  --mode-card-bg: rgba(255, 255, 255, 0.92);
  --mode-border: #4A403A;
  /* æ·±å·§å…‹åŠ›è‰²é‚Šæ¡† */
  --mode-border-light: rgba(74, 64, 58, 0.2);

  /* è¶…ç´šåœ“è§’ */
  --mode-radius: 24px;
  --mode-radius-lg: 32px;

  /* æŸ”å’Œé™°å½± */
  --mode-shadow: 0 8px 32px rgba(74, 64, 58, 0.12);
  --mode-glow: 0 4px 20px rgba(255, 183, 178, 0.3);
}

/* ğŸ“ å­—å‹è¨­è¨ˆï¼šåœ“æ½¤ã€æ‰‹å¯«æ„Ÿã€æ˜“è®€ */
[data-mode='kids'] body,
[data-mode='kids'] * {
  font-family: 'Zen Maru Gothic', 'YuanTi TC', 'PingFang TC', 'Microsoft JhengHei', sans-serif !important;
}

[data-mode='kids'] h1,
[data-mode='kids'] h2,
[data-mode='kids'] h3 {
  font-weight: 700 !important;
  letter-spacing: 0.02em;
}

[data-mode='kids'] p,
[data-mode='kids'] span,
[data-mode='kids'] div {
  font-weight: 500;
  line-height: 2.0 !important;
  /* å¯¬é¬†è¡Œé«˜ï¼Œå¹«åŠ©é€è¡Œé–±è®€ */
}

/* ğŸ“ å­—è™Ÿæ”¾å¤§ 20-30% */
[data-mode='kids'] .text-sm {
  font-size: 1rem !important;
}

[data-mode='kids'] .text-base {
  font-size: 1.25rem !important;
}

[data-mode='kids'] .text-lg {
  font-size: 1.5rem !important;
}

[data-mode='kids'] .text-xl {
  font-size: 1.75rem !important;
}

[data-mode='kids'] .text-2xl {
  font-size: 2rem !important;
}

[data-mode='kids'] .text-3xl {
  font-size: 2.5rem !important;
}

[data-mode='kids'] .text-4xl {
  font-size: 3rem !important;
}

/* ğŸ¨ å…¨å±€èƒŒæ™¯èˆ‡ç´™å¼µè³ªæ„Ÿ */
[data-mode='kids'] body {
  background: var(--mode-bg-gradient) !important;
  color: var(--mode-text) !important;
  /* ç´™å¼µå™ªé»ç´‹ç† */
  background-image:
    var(--mode-bg-gradient),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E") !important;
}

[data-mode='kids'] .bg-\[\#0f1016\],
[data-mode='kids'] .bg-\[\#1a1b26\],
[data-mode='kids'] .min-h-screen {
  background: var(--mode-bg-gradient) !important;
}

/* â˜ï¸ å‹•æ…‹èƒŒæ™¯ï¼šç·©æ…¢æ¼‚æµ®çš„é›²æœµ */
[data-mode='kids'] body::before {
  content: '';
  position: fixed;
  top: 60px;
  right: 80px;
  width: 100px;
  height: 100px;
  background: radial-gradient(circle, #FFE5B4 20%, #FFD93D 50%, transparent 70%);
  border-radius: 50%;
  box-shadow: 0 0 80px 30px rgba(255, 217, 61, 0.4);
  z-index: 0;
  pointer-events: none;
  animation: sun-gentle 6s ease-in-out infinite;
}

[data-mode='kids'] body::after {
  content: 'â˜ï¸ â˜ï¸ â˜ï¸';
  position: fixed;
  top: 120px;
  left: 0;
  right: 0;
  font-size: 50px;
  text-align: center;
  opacity: 0.5;
  z-index: 0;
  pointer-events: none;
  animation: clouds-drift 30s linear infinite;
  letter-spacing: 120px;
}

@keyframes sun-gentle {

  0%,
  100% {
    transform: scale(1) rotate(0deg);
  }

  50% {
    transform: scale(1.05) rotate(3deg);
  }
}

@keyframes clouds-drift {
  0% {
    transform: translateX(-150px);
  }

  100% {
    transform: translateX(150px);
  }
}

/* ğŸ¨ ç«¥è¶£å‹•ç•« */
@keyframes kids-wiggle {

  0%,
  100% {
    transform: rotate(-2deg);
  }

  50% {
    transform: rotate(2deg);
  }
}

@keyframes kids-bounce {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-5px);
  }
}

/* ğŸƒ å¡ç‰‡æ¨£å¼ï¼šæŸ”è»Ÿåœ“è§’ + å·§å…‹åŠ›è‰²é‚Šæ¡† */
[data-mode='kids'] .bg-white\/5,
[data-mode='kids'] .bg-white\/10 {
  background-color: var(--mode-card-bg) !important;
  border-radius: var(--mode-radius-lg) !important;
  border: 2px solid var(--mode-border-light) !important;
  box-shadow: var(--mode-shadow) !important;
}

/* ğŸ”˜ æŒ‰éˆ•æ¨£å¼ï¼šé¦¬å¡é¾è‰² + åœ“æ½¤ */
[data-mode='kids'] button {
  border-radius: 50px !important;
  font-weight: 700 !important;
  border: 2px solid var(--mode-border-light) !important;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
  padding-left: 1.5rem !important;
  padding-right: 1.5rem !important;
}

[data-mode='kids'] button:hover {
  transform: scale(1.08) translateY(-2px) !important;
  box-shadow: var(--mode-glow) !important;
}

[data-mode='kids'] button:active {
  transform: scale(0.96) !important;
}

/* ä¸»è¦æŒ‰éˆ• (èœœæ¡ƒç²‰) */
[data-mode='kids'] .bg-white,
[data-mode='kids'] .bg-indigo-500,
[data-mode='kids'] .bg-indigo-600 {
  background: linear-gradient(135deg, #FFB7B2, #FFC8C5) !important;
  color: var(--mode-text) !important;
  border-color: rgba(74, 64, 58, 0.3) !important;
}

/* æ¬¡è¦æŒ‰éˆ• (è–„è·ç¶ ) */
[data-mode='kids'] .bg-emerald-500\/10,
[data-mode='kids'] .border-emerald-500\/50 {
  background: linear-gradient(135deg, #B5EAD7, #C8F0E0) !important;
  border-color: rgba(74, 64, 58, 0.2) !important;
}

/* ğŸ“Š æ–‡å­—é¡è‰²è¦†è“‹ */
[data-mode='kids'] .text-white,
[data-mode='kids'] .text-slate-100,
[data-mode='kids'] .text-slate-200 {
  color: var(--mode-text) !important;
}

[data-mode='kids'] .text-slate-300,
[data-mode='kids'] .text-slate-400,
[data-mode='kids'] .text-slate-500 {
  color: var(--mode-text-muted) !important;
}

[data-mode='kids'] .text-indigo-400,
[data-mode='kids'] .text-indigo-300 {
  color: #D4A373 !important;
  /* æº«æš–æ£•è‰² */
}

/* ğŸ”² é‚Šæ¡†èˆ‡åœ“è§’ */
[data-mode='kids'] .border-white\/10,
[data-mode='kids'] .border-white\/20 {
  border-color: var(--mode-border-light) !important;
}

[data-mode='kids'] .rounded-xl,
[data-mode='kids'] .rounded-2xl,
[data-mode='kids'] .rounded-3xl {
  border-radius: var(--mode-radius-lg) !important;
}

/* ğŸ§­ Navbar ç‰¹åˆ¥æ¨£å¼ - æµ®å‹•ç‰ˆæœ¬ */
[data-mode='kids'] .fixed.top-4 .bg-slate-900\/70 {
  background: rgba(254, 249, 231, 0.85) !important;
  border-color: rgba(188, 170, 144, 0.3) !important;
}

/* ========================================
   ğŸ“– æ³¨éŸ³æ¨™æ³¨æ¨£å¼ (Bopomofo / Ruby)
   ======================================== */

/* Ruby æ¨™ç±¤åŸºæœ¬æ¨£å¼ */
[data-mode='kids'] ruby {
  ruby-align: center;
  display: inline-flex;
  flex-direction: column-reverse;
  align-items: center;
  margin: 0 0.1em;
}

/* æ³¨éŸ³æ–‡å­— (rt æ¨™ç±¤) */
[data-mode='kids'] ruby rt {
  font-size: 0.5em;
  color: #B45309;
  font-weight: 500;
  letter-spacing: 0;
  line-height: 1.2;
  margin-bottom: 2px;
  font-family: 'Zen Maru Gothic', sans-serif;
}

/* æ³¨éŸ³æ®µè½é–“è·èª¿æ•´ */
[data-mode='kids'] .bopomofo-text,
[data-mode='kids'] .bopomofo-paragraph {
  line-height: 3.5 !important;
  letter-spacing: 0.15em;
}

/* æ³¨éŸ³æ¨™é¡Œæ¨£å¼ */
[data-mode='kids'] .bopomofo-heading ruby rt {
  font-size: 0.4em;
  color: #92400E;
}


/* ğŸ•°ï¸ æ‹¾å…‰æ¨¡å¼ (Memoir) - å¾©å¤æš–è‰² */
[data-mode='memoir'] {
  --mode-bg: #1c1917;
  --mode-bg-gradient: linear-gradient(135deg, #1c1917 0%, #292524 50%, #3f3f46 100%);
  --mode-accent: #d97706;
  --mode-accent-hover: #f59e0b;
  --mode-secondary: #b45309;
  --mode-text: #fef3c7;
  --mode-text-muted: #d6d3d1;
  --mode-card-bg: rgba(254, 243, 199, 0.05);
  --mode-border: rgba(217, 119, 6, 0.3);
  --mode-radius: 0.5rem;
  --mode-glow: 0 4px 20px rgba(217, 119, 6, 0.15);
}

/* æ‹¾å…‰æ¨¡å¼ä¸‹çš„å…¨å±€æ¨£å¼èª¿æ•´ */
[data-mode='memoir'] body {
  background: var(--mode-bg-gradient) !important;
  color: var(--mode-text) !important;
}

[data-mode='memoir'] .bg-\[\#0f1016\],
[data-mode='memoir'] .bg-\[\#1a1b26\] {
  background: var(--mode-bg-gradient) !important;
}

[data-mode='memoir'] .text-white,
[data-mode='memoir'] .text-slate-100,
[data-mode='memoir'] .text-slate-200 {
  color: var(--mode-text) !important;
}

[data-mode='memoir'] .text-slate-300,
[data-mode='memoir'] .text-slate-400 {
  color: var(--mode-text-muted) !important;
}

[data-mode='memoir'] .bg-indigo-500,
[data-mode='memoir'] .bg-indigo-600 {
  background-color: var(--mode-accent) !important;
}

[data-mode='memoir'] .text-indigo-400,
[data-mode='memoir'] .text-indigo-300 {
  color: var(--mode-accent) !important;
}

[data-mode='memoir'] .border-indigo-500\/30 {
  border-color: var(--mode-border) !important;
}